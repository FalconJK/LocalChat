# LocalChat - 區域網路即時聊天應用

LocalChat 是一個基於 Android 的即時聊天應用程式，允許使用者在同一區域網路內無需伺服器即可互相發現並聊天。

## 功能特點

- 自動發現同一區域網路內的其他使用者
- 點對點即時通訊
- 無需中央伺服器
- 支援區域網路內的多人在線
- 簡潔的使用者介面

## 技術實現

### 網路發現機制
- 使用 UDP 多播（Multicast）來實現設備發現
- 定期廣播自身存在
- 自動清理離線設備

### 通訊實現
- 基於 HTTP 協議的點對點通訊
- 使用 NanoHTTPD 實現輕量級 Web 服務器
- OkHttp 客戶端發送消息

## 主要元件

1. **DeviceDiscoveryService**
   - 負責設備發現和廣播
   - 使用 UDP 多播實現
   - 定期發送在線狀態

2. **ChatService**
   - 處理消息的發送和接收
   - 實現基於 HTTP 的通訊
   - 管理聊天會話

3. **使用者介面**
   - 分屏顯示在線設備列表和聊天界面
   - 支援即時消息顯示
   - 簡潔的消息輸入介面

## 系統需求

- Android 系統
- 需要網路權限
- 需要 WiFi 多播權限
- 所有設備必須在同一區域網路內

## 權限要求

應用需要以下權限：
- `INTERNET`：網路訪問
- `ACCESS_NETWORK_STATE`：網路狀態訪問
- `ACCESS_WIFI_STATE`：WiFi 狀態訪問
- `CHANGE_WIFI_MULTICAST_STATE`：WiFi 多播狀態變更

## 使用說明

1. 啟動應用後，會自動搜尋同一網路內的其他使用者
2. 在左側可以看到在線的使用者列表
3. 點擊任一使用者開始聊天
4. 在下方輸入框輸入消息，點擊發送即可

## 技術特點

- 使用 UDP 多播實現自動設備發現
- 採用 P2P 架構，無需中央伺服器
- 使用 JSON 格式進行數據交換
- 支援即時消息推送
- 自動處理設備上線/離線狀態

## 注意事項

- 確保設備在同一區域網路內
- 部分路由器可能會阻擋多播封包
- 建議在 WiFi 環境下使用
- 需要允許應用使用所需權限
